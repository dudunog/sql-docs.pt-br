---
title: Introdução aos grupos de disponibilidade
description: Conheça as etapas necessárias para configurar instâncias do SQL Server para dar suporte a grupos de disponibilidade Always On e para criar, gerenciar e monitorar um grupo de disponibilidade.
ms.custom: seodec18
ms.date: 05/17/2016
ms.prod: sql
ms.reviewer: ''
ms.technology: availability-groups
ms.topic: reference
helpviewer_keywords:
- Availability Groups [SQL Server], deploying
- Availability Groups [SQL Server], about
ms.assetid: 33f2f2d0-79e0-4107-9902-d67019b826aa
author: cawrites
ms.author: chadam
ms.openlocfilehash: 9420d44b3291ae5dbc822f47f7aac56c3dc188de
ms.sourcegitcommit: 370cab80fba17c15fb0bceed9f80cb099017e000
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/17/2020
ms.locfileid: "97644096"
---
# <a name="getting-started-with-always-on-availability-groups"></a>Introdução aos grupos de disponibilidade Always On
[!INCLUDE [SQL Server](../../../includes/applies-to-version/sqlserver.md)]

Este tópico apresenta as etapas para configurar instâncias do [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] para dar suporte a [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] e para criar, gerenciar e monitorar um grupo de disponibilidade.  
  
  
##  <a name="recommended-reading"></a><a name="RecommendedReading"></a> Leitura recomendada  
 Antes de criar seu primeiro grupo de disponibilidade, recomendamos que você leia os seguintes tópicos:  
  
-   [Visão geral dos grupos de disponibilidade AlwaysOn &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md)  
  
-   [Pré-requisitos, restrições e recomendações para grupos de disponibilidade AlwaysOn &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/prereqs-restrictions-recommendations-always-on-availability.md)  
  
##  <a name="configuring-an-instance-of-sql-server-to-support-always-on-availability-groups"></a><a name="ConfigSI"></a> Configuring an Instance of SQL Server to Support Always On Availability Groups  
  
|Etapa|Links|  
|----------|-----------|  
|**Habilitar [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].** O recurso [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] deve estar habilitado em cada instância do [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] que participará de um grupo de disponibilidade.<br /><br /> **Pré-requisitos:**  O computador host deve ser um nó WSFC (Windows Server Failover Clustering).<br /><br /> Para obter informações sobre outros pré-requisitos, consulte "Pré-requisitos e restrições da Instância do SQL Server"em [Pré-requisitos, restrições e recomendações para grupos de disponibilidade AlwaysOn &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/prereqs-restrictions-recommendations-always-on-availability.md).|[Habilitar e desabilitar Grupos de Disponibilidade AlwaysOn](../../../database-engine/availability-groups/windows/enable-and-disable-always-on-availability-groups-sql-server.md)|  
|**Criar um ponto de extremidade de espelhamento de banco de dados (se não houver).** Verifique se cada instância de servidor tem um [ponto de extremidade de espelhamento de banco de dados](../../../database-engine/database-mirroring/the-database-mirroring-endpoint-sql-server.md). A instância de servidor usa este ponto de extremidade para receber conexões de [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] de outras instâncias de servidor.|Para determinar se um ponto de extremidade de espelhamento de banco de dados existe: <br />                    [sys.database_mirroring_endpoints](../../../relational-databases/system-catalog-views/sys-database-mirroring-endpoints-transact-sql.md)<br /><br /> **Para a Autenticação do Windows**.  Para criar um ponto de extremidade de espelhamento de banco de dados usando:<br /><br /> [Assistente de grupo de nova disponibilidade](../../../database-engine/availability-groups/windows/use-the-availability-group-wizard-sql-server-management-studio.md)<br /><br /> [Transact-SQL](../../../database-engine/database-mirroring/create-a-database-mirroring-endpoint-for-windows-authentication-transact-sql.md)<br /><br /> [SQL Server PowerShell](../../../database-engine/availability-groups/windows/database-mirroring-always-on-availability-groups-powershell.md)<br /><br /> **Para autenticação de certificado**. Para criar um ponto de extremidade do espelhamento de banco de dados, usando:[Transact-SQL](../../../database-engine/database-mirroring/use-certificates-for-a-database-mirroring-endpoint-transact-sql.md)|  
  
##  <a name="creating-and-configuring-a-new-availability-group"></a><a name="ConfigAG"></a> Creating and Configuring a New Availability Group  
  
|Etapa|Links|  
|----------|-----------|  
|**Crie o grupo de disponibilidade.** Crie o grupo de disponibilidade na instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] que hospeda os bancos de dados a serem adicionados ao grupo de disponibilidade.<br /><br /> Minimamente, crie a réplica primária inicial na instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] onde você cria o grupo de disponibilidade. Você também pode especificar de um a quatro réplicas secundárias. Para obter informações sobre grupos de disponibilidade e propriedades da réplica, consulte [CREATE AVAILABILITY GROUP &#40;Transact-SQL&#41;](../../../t-sql/statements/create-availability-group-transact-sql.md).<br /><br /> Recomendamos expressamente criar um [ouvinte de grupos de disponibilidade](../../../database-engine/availability-groups/windows/listeners-client-connectivity-application-failover.md).<br /><br /> **Pré-requisitos:**  As instâncias do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] que hospedam as réplicas de disponibilidade para um determinado grupo de disponibilidade residem em nós separados de um único cluster do WSFC. A única exceção é que, embora tenha sido migrado para outro cluster WSFC, um grupo de disponibilidade pode temporariamente abranger dois clusters.<br /><br /> Para obter informações sobre outros pré-requisitos, consulte "Pré-requisitos e restrições de grupos de disponibilidade", "Pré-requisitos e restrições de bancos de dados de disponibilidade" e "Pré-requisitos e restrições de instâncias do SQL Server" em [Pré-requisitos, restrições e recomendações para grupos de disponibilidade AlwaysOn &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/prereqs-restrictions-recommendations-always-on-availability.md).|Para criar um grupo de disponibilidade, você poderá usar qualquer uma das ferramentas a seguir:<br /><br /> [Assistente de grupo de nova disponibilidade](../../../database-engine/availability-groups/windows/use-the-availability-group-wizard-sql-server-management-studio.md)<br /><br /> [Transact-SQL](../../../database-engine/availability-groups/windows/create-an-availability-group-transact-sql.md)<br /><br /> [SQL Server PowerShell](../../../database-engine/availability-groups/windows/create-an-availability-group-transact-sql.md)|  
|**Unir réplicas secundárias ao grupo de disponibilidade.** Conecte a cada instância do [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] que está hospedando uma réplica secundária e una a réplica secundária local ao grupo de disponibilidade.|[Unir uma réplica secundária a um grupo de disponibilidade](../../../database-engine/availability-groups/windows/join-a-secondary-replica-to-an-availability-group-sql-server.md)<br /><br /> Dica: se você usar o Assistente de Novo Grupo de Disponibilidade, esta etapa será automatizada.|  
|**Preparar bancos de dados secundários.** Em cada instância de servidor que está hospedando uma réplica secundária, restaure os backups dos bancos de dados primários usando RESTORE WITH NORECOVERY.|[Prepare manualmente um banco de dados secundário](../../../database-engine/availability-groups/windows/manually-prepare-a-secondary-database-for-an-availability-group-sql-server.md)<br /><br /> Dica: O Assistente de Novo Grupo de Disponibilidade pode preparar os bancos de dados secundários para você. Para obter mais informações, consulte “Pré-requisitos para o uso da sincronização de dados inicial completa” em [Página Selecionar Sincronização de Dados Inicial &#40;Assistentes do Grupo de Disponibilidade AlwaysOn&#41;](../../../database-engine/availability-groups/windows/select-initial-data-synchronization-page-always-on-availability-group-wizards.md).|  
|**Unir bancos de dados secundários ao grupo de disponibilidade.** Em cada instância de servidor que está hospedando uma réplica secundária, una cada banco de dados secundário local ao grupo de disponibilidade. Ao unir o grupo de disponibilidade, um determinado banco de dados secundário inicia a sincronização de dados com o banco de dados primário correspondente.|[Unir um banco de dados secundário a um grupo de disponibilidade](../../../database-engine/availability-groups/windows/join-a-secondary-database-to-an-availability-group-sql-server.md)<br /><br /> Dica: O Assistente de Novo Grupo de Disponibilidade poderá executar esta etapa se cada banco de dados secundário existir em cada réplica secundária.|  
|**Criar um ouvinte de grupo de disponibilidade.**  Esta etapa é necessária a menos que você já tenha criado o ouvinte do grupo de disponibilidade enquanto criou o grupo de disponibilidade.|[Criar ou configurar um ouvinte do grupo de disponibilidade &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/create-or-configure-an-availability-group-listener-sql-server.md)|  
|**Dê o nome de host DNS do ouvinte aos desenvolvedores de aplicativos.**  Desenvolvedores precisam especificar esse nome de DNS nas cadeias de conexão para direcionar solicitações de conexão para o ouvinte do grupo de disponibilidade. Para obter mais informações, consulte [Ouvintes do grupo de disponibilidade, conectividade de cliente e failover de aplicativo &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/listeners-client-connectivity-application-failover.md).|"Acompanhamento: depois de criar um ouvinte do grupo de disponibilidade" em [Criar ou configurar um ouvinte do grupo de disponibilidade &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/create-or-configure-an-availability-group-listener-sql-server.md)|  
|**Configurar onde estão os trabalhos de backup.**  Para executar backups em bancos de dados secundários, você deverá criar um script de trabalho de backup que leva em conta a preferência de backup automatizado. Criar um script para cada banco de dados no grupo de disponibilidade em cada instância de servidor que hospeda uma réplica de disponibilidade para o grupo de disponibilidade.|"Acompanhamento: depois de configurar o backup em réplicas secundárias” em [Configurar backup em réplicas de disponibilidade &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/configure-backup-on-availability-replicas-sql-server.md)|  
  
##  <a name="managing-availability-groups-replicas-and-databases"></a><a name="ManageAGsEtc"></a> Managing Availability Groups, Replicas, and Databases  
  
> [!NOTE]  
>  Para obter informações sobre grupos de disponibilidade e propriedades da réplica, consulte [CREATE AVAILABILITY GROUP &#40;Transact-SQL&#41;](../../../t-sql/statements/create-availability-group-transact-sql.md).  
  
 O gerenciamento de grupos de disponibilidade existente envolve uma ou mais das seguintes tarefas:  
  
|Tarefa|Link|  
|----------|----------|  
|Modificar a [política de failover flexível](./configure-flexible-automatic-failover-policy.md) do grupo de disponibilidade para controlar as condições que causam um failover automático. Essa política só será pertinente quando o failover automático for possível.|[Configurar a política de failover flexível de um grupo de disponibilidade](../../../database-engine/availability-groups/windows/configure-flexible-automatic-failover-policy.md)|  
|Executar um failover manual planejado ou um failover manual forçado (com possível perda de dados), geralmente chamado *failover forçado*. Para obter mais informações, consulte [Failover e modos de failover &#40;grupos de disponibilidade AlwaysOn&#41;](../../../database-engine/availability-groups/windows/failover-and-failover-modes-always-on-availability-groups.md).|[Executar um failover manual planejado](../../../database-engine/availability-groups/windows/perform-a-planned-manual-failover-of-an-availability-group-sql-server.md)<br /><br /> [Executar um failover manual forçado](../../../database-engine/availability-groups/windows/perform-a-forced-manual-failover-of-an-availability-group-sql-server.md)|  
|Usar um conjunto de políticas predefinidas para exibir da integridade de um grupo de disponibilidade e suas réplicas e bancos de dados.|[Usar o gerenciamento baseado em políticas para exibir a integridade de um grupo de disponibilidade](../../../database-engine/availability-groups/windows/use-always-on-policies-to-view-the-health-of-an-availability-group-sql-server.md)<br /><br /> [Usar o Painel do Grupo AlwaysOn](../../../database-engine/availability-groups/windows/use-the-always-on-dashboard-sql-server-management-studio.md)|  
|Adicionar ou remover uma réplica secundária.|[Adicionar uma réplica secundária](../../../database-engine/availability-groups/windows/add-a-secondary-replica-to-an-availability-group-sql-server.md)<br /><br /> [Remover uma réplica secundária](../../../database-engine/availability-groups/windows/remove-a-secondary-replica-from-an-availability-group-sql-server.md)|  
|Suspender ou retomar um banco de dados de disponibilidade. Suspender um banco de dados secundário mantém-no em seu ponto atual no tempo até que você o continue.|[Suspender um banco de dados](../../../database-engine/availability-groups/windows/suspend-an-availability-database-sql-server.md)<br /><br /> [Retomar um banco de dados](../../../database-engine/availability-groups/windows/resume-an-availability-database-sql-server.md)|  
|Adicionar ou remover um banco de dados.|[Adicionar um banco de dados](../../../database-engine/availability-groups/windows/availability-group-add-a-database.md)<br /><br /> [Remover um banco de dados secundário](../../../database-engine/availability-groups/windows/remove-a-secondary-database-from-an-availability-group-sql-server.md)<br /><br /> [Remover um banco de dados primário](../../../database-engine/availability-groups/windows/remove-a-primary-database-from-an-availability-group-sql-server.md)|  
|Reconfigurar ou criar um ouvinte de grupo de disponibilidade.|[Criar ou configurar um ouvinte de grupo de disponibilidade](../../../database-engine/availability-groups/windows/create-or-configure-an-availability-group-listener-sql-server.md)|  
|Excluir um grupo de disponibilidade.|[Excluir um grupo de disponibilidade](../../../database-engine/availability-groups/windows/remove-an-availability-group-sql-server.md)|  
|Solucionar problemas de operações de adicionar arquivo. Isto pode ser necessário se o banco de dados primário e um banco de dados secundário tiverem caminhos de arquivos diferentes.|[Solucionar problemas de operações de adicionar arquivo com falha](../../../database-engine/availability-groups/windows/troubleshoot-a-failed-add-file-operation-always-on-availability-groups.md)|  
|Alterar as propriedades da réplica de disponibilidade.|[Alterar o modo de disponibilidade](../../../database-engine/availability-groups/windows/change-the-availability-mode-of-an-availability-replica-sql-server.md)<br /><br /> [Alterar o modo de failover](../../../database-engine/availability-groups/windows/change-the-failover-mode-of-an-availability-replica-sql-server.md)<br /><br /> [Configurar prioridade de backup (e preferência de backup automatizado)](../../../database-engine/availability-groups/windows/configure-backup-on-availability-replicas-sql-server.md)<br /><br /> [Configurar acesso somente leitura](../../../database-engine/availability-groups/windows/configure-read-only-access-on-an-availability-replica-sql-server.md)<br /><br /> [Configurar roteamento somente leitura](../../../database-engine/availability-groups/windows/configure-read-only-routing-for-an-availability-group-sql-server.md)<br /><br /> [Alterar o período do tempo limite de sessão](../../../database-engine/availability-groups/windows/change-the-session-timeout-period-for-an-availability-replica-sql-server.md)|  
  
##  <a name="monitoring-availability-groups"></a><a name="MonitorAGsEtc"></a> Monitorando grupos de disponibilidade  
 Para monitorar as propriedades e o estado de um grupo de disponibilidade AlwaysOn, você pode usar as seguintes ferramentas.  
  
|Ferramenta|Breve descrição|Links|  
|----------|-----------------------|-----------|  
|Pacote de monitoramento do System Center para SQL Server|O pacote de Monitoramento para SQL Server (SQLMP) é a solução indicada para monitorar grupos de disponibilidade, réplica de disponibilidade e bancos de dados de disponibilidade para administradores de TI. Os recursos de monitoramento que são de particular relevância para o [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] incluem o seguinte:<br /><br /> Capacidade de descoberta automática de grupos de disponibilidade, réplicas de disponibilidade e banco de dados de disponibilidade dentre centenas de computadores. Isto permite que você mantenha o controle de seu inventário de [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] .<br /><br /> Alertas e tickets totalmente capazes do System Center Operations Manager (SCOM). Estes recursos fornecem um conhecimento detalhado que permite uma resolução mais rápida para um problema.<br /><br /> Uma extensão personalizada para o monitoramento de integridade AlwaysOn usando um PBM (gerenciamento baseado em políticas).<br /><br /> Acúmulos de integridade de bancos de dados de disponibilidade para réplicas de disponibilidade.<br /><br /> Tarefas personalizadas que gerenciam o [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] do console do System Center Operations Manager.|Para baixar o pacote de monitoramento (SQLServerMP.msi) e o *Guia do Pacote de Gerenciamento do SQL Server para System Center Operations Manager* (SQLServerMPGuide.doc), consulte:<br /><br /> [Pacote de monitoramento do System Center para SQL Server](https://www.microsoft.com/download/details.aspx?displaylang=en&id=10631)|  
|[!INCLUDE[tsql](../../../includes/tsql-md.md)]|[!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] e as exibições de gerenciamento dinâmico fornecem informações preciosas sobre seus grupos de disponibilidade e suas réplicas, bancos de dados, ouvintes e ambiente de cluster WSFC.|[Monitorar grupos de disponibilidade &#40;Transact-SQL&#41;](../../../database-engine/availability-groups/windows/monitor-availability-groups-transact-sql.md)|  
|[!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)]|O painel **Detalhes do Pesquisador de Objetos** exibe informações básicas sobre os grupos de disponibilidade hospedados na instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] à qual você está conectado.<br /><br /> Dica: use esse painel para selecionar vários grupos de disponibilidade, réplicas ou bancos de dados e executar tarefas administrativas rotineiras nos objetos selecionados; por exemplo, remover várias réplicas ou bancos de dados de disponibilidade de um grupo de disponibilidade.|[Use os Detalhes do Pesquisador de Objetos para monitorar grupos de disponibilidade](../../../database-engine/availability-groups/windows/use-object-explorer-details-to-monitor-availability-groups.md)|  
|[!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)]|As caixas de diálogo de **Propriedades** permitem que você exiba as propriedades dos grupos de disponibilidade, réplicas ou ouvintes e, em alguns casos, alterar os seus valores.|[Propriedades do grupo de disponibilidade](../../../database-engine/availability-groups/windows/view-availability-group-properties-sql-server.md)<br /><br /> [Propriedades da réplica de disponibilidade](../../../database-engine/availability-groups/windows/view-availability-replica-properties-sql-server.md)<br /><br /> [Propriedades do ouvinte do grupo de disponibilidade](../../../database-engine/availability-groups/windows/view-availability-group-listener-properties-sql-server.md)|  
|Monitor do Sistema|O objeto de desempenho **SQLServer:Availability Replica** contém contadores de desempenho que relatam informações sobre réplicas de disponibilidade.|[SQL Server, Réplica de Disponibilidade](../../../relational-databases/performance-monitor/sql-server-availability-replica.md)|  
|Monitor do Sistema|O objeto de desempenho **SQLServer:Database Replica** contém contadores de desempenho que relatam informações sobre os bancos de dados secundários em uma determinada réplica secundária.<br /><br /> O objeto **SQLServer:Databases** no SQL Server contém contadores de desempenho que monitoram atividades do log de transações, entre outras coisas. Os contadores a seguir são particularmente relevantes para o monitoramento de atividades do log de transações em bancos de dados de disponibilidade: **Tempo de Gravação de Liberação de Log (ms)** , **Liberações de log/s**, **Erros de Cache do Pool de Logs/s**, **Leituras de Disco do Pool de Logs/s** e **Solicitações do Pool de Logs/s**.|[SQL Server, Réplica de Banco de Dados](../../../relational-databases/performance-monitor/sql-server-database-replica.md)<br /><br /> [SQL Server, Databases Object](../../../relational-databases/performance-monitor/sql-server-databases-object.md)|  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> Conteúdo relacionado  
  
-   **Vídeo – Introdução ao Always On:**  [Microsoft SQL Server Code-Named "Denali" Always On Series, Part 1: Introducing the Next Generation High Availability Solution](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2011/DBI302) (Série do Always On, codinome "Denali" do Microsoft SQL Server, parte 1: apresentando a próxima geração de solução de alta disponibilidade)  
  
-   **Vídeo – Um mergulho no Always On:**  [Microsoft SQL Server codinome "Denali" Série Always On, Parte 2: Criando uma solução de alta disponibilidade crítica usando Always On](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2011/DBI404)  
  
-   **Whitepaper:**  [Guia de soluções AlwaysOn do Microsoft SQL Server para alta disponibilidade e recuperação de desastre](/previous-versions/sql/sql-server-2012/hh781257(v=msdn.10))  
  
-   **Blogs:**  [Blog da equipe do Always On do SQL Server: o blog oficial da equipe do Always On do SQL Server](/archive/blogs/sqlalwayson/)  
  
## <a name="see-also"></a>Consulte Também  
 [Grupos de Disponibilidade AlwaysOn &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/always-on-availability-groups-sql-server.md)   
 [Visão geral dos grupos de disponibilidade AlwaysOn &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md)   
 [Configuração de uma instância de servidor para Grupos de Disponibilidade AlwaysOn &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/configuration-of-a-server-instance-for-always-on-availability-groups-sql-server.md)   
 [Criação e configuração de grupos de disponibilidade &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/creation-and-configuration-of-availability-groups-sql-server.md)   
 [Monitoramento de grupos de disponibilidade &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/monitoring-of-availability-groups-sql-server.md)   
 [Visão geral de instruções Transact-SQL para Grupos de Disponibilidade AlwaysOn &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/transact-sql-statements-for-always-on-availability-groups.md)   
 [Visão geral de cmdlets do PowerShell para Grupos de Disponibilidade AlwaysOn &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/overview-of-powershell-cmdlets-for-always-on-availability-groups-sql-server.md)  
  
